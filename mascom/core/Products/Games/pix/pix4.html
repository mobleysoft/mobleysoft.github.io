<!DOCTYPE html><html><head><title>TerraVania</title><style>body,canvas{margin:0;padding:0;display:block;background:#000;color:#ffa500;font-family:sans-serif;}canvas{position:absolute;width:100vw;height:100vh;}</style></head><body><canvas id="game"></canvas><script>(()=>{const c=document.getElementById('game'),x=c.getContext('2d');const W=c.width=window.innerWidth,H=c.height=window.innerHeight,R=Math.random;const F=()=>Math.floor(R()*255);const grid=[];const s=6,nx=Math.floor(W/s),ny=Math.floor(H/s);const render=()=>{x.clearRect(0,0,W,H);for(let i=0;i<grid.length;i++){let v=grid[i];x.fillStyle=`rgb(${v},${v/1.5},${v/6})`;x.fillRect((i%nx)*s,Math.floor(i/nx)*s,s,s);}};const step=()=>{let next=grid.slice();for(let i=0;i<grid.length;i++){let n=0,px=i%nx,py=Math.floor(i/nx);for(let dx=-1;dx<=1;dx++)for(let dy=-1;dy<=1;dy++){if(dx||dy){let ni=(px+dx+nx)%nx+((py+dy+ny)%ny)*nx;n+=grid[ni]>127?1:0;}}next[i]=(grid[i]>127?n>=2&&n<=4:n===3)?255:0;}grid.splice(0,grid.length,...next);render();};const loop=()=>{step();requestAnimationFrame(loop);};for(let i=0;i<nx*ny;i++)grid.push(R()>0.35?255:0);loop();})();</script></body></html>
