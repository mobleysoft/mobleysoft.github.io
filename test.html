<!DOCTYPE html>
<html style="height: 100%; width: 100%; overflow: hidden; font-family: Arial, sans-serif;">
    <head>
        <title>MobleyOS</title>
    </head>
    <body style="height: 100vh; width: 100%; overflow: hidden; background: linear-gradient(to right, #141e30, #243b55); display: flex; flex-direction: column; align-items: center; justify-content: center;">
        <div style="max-width: 1200px; width: 100%; height: 100%; box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2); border-radius: 10px; padding: 20px; position: relative; display: flex; flex-direction: column; justify-content: space-between; background: #222;">
            <!-- Start Button & Taskbar -->
            <div style="position: absolute; bottom: 0; left: 0; width: 100%; background: #333; display: flex; align-items: center; padding: 10px; border-top: 2px solid rgba(255,255,255,0.1); height: 50px;">
                <button onclick="openStartMenu()" style="display: flex; align-items: center; background-color: rgba(255,255,255,0.2); border-radius: 8px; padding: 8px 16px; cursor: pointer; border: none; color: white;">
                    <img src="/mobleysoftAGI-logo.png" alt="MobleysoftAGI" style="width: 24px; height: 24px; margin-right: 8px;" />
                    <span>Start</span>
                </button>
                <div style="margin-left: auto; background: rgba(255,255,255,0.2); padding: 6px 12px; border-radius: 8px; font-size: 14px; color: white;">
                    MobleyCoin: <span id="mobleyCoinBalance">42,000</span>
                </div>
            </div>

            <!-- Desktop Icons -->
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(100px, 1fr)); gap: 16px; justify-items: center; flex-grow: 1; align-items: center;">
                <button onclick="openApp('files')" style="background: none; border: none; cursor: pointer; color: white; text-align: center;">
                    <div style="width: 60px; height: 60px; background: rgba(255,255,255,0.2); border-radius: 10px; display: flex; align-items: center; justify-content: center; font-size: 24px;">üìÇ</div>
                    <span>My Files</span>
                </button>
                <button onclick="openApp('store')" style="background: none; border: none; cursor: pointer; color: white; text-align: center;">
                    <div style="width: 60px; height: 60px; background: rgba(255,255,255,0.2); border-radius: 10px; display: flex; align-items: center; justify-content: center; font-size: 24px;">üõí</div>
                    <span>Store</span>
                </button>
                <button onclick="openApp('settings')" style="background: none; border: none; cursor: pointer; color: white; text-align: center;">
                    <div style="width: 60px; height: 60px; background: rgba(255,255,255,0.2); border-radius: 10px; display: flex; align-items: center; justify-content: center; font-size: 24px;">‚öôÔ∏è</div>
                    <span>Settings</span>
                </button>
            </div>

            <!-- Login & Magic Link Authentication -->
            <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); background: rgba(255,255,255,0.2); padding: 20px; border-radius: 10px; text-align: center; max-width: 400px; width: 100%; box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);">
                <h2 style="font-size: 20px; margin-bottom: 10px; color: #fff;">Welcome to MobleyOS</h2>
                <p style="font-size: 14px; color: rgba(255,255,255,0.8); margin-bottom: 10px;">Enter your email to receive a magic link.</p>
                <input id="email" type="email" placeholder="your@email.com" style="margin-top: 10px; padding: 8px; width: 90%; border-radius: 5px; border: none; text-align: center; background: rgba(255,255,255,0.1); color: white;">
                <button onclick="sendMagicLink()" style="margin-top: 20px; background: #1e90ff; padding: 10px 20px; border-radius: 8px; cursor: pointer; border: none; color: white;">Send Magic Link</button>
            </div>
        </div>
        
        <script>
            function sendMagicLink() {
                let email = document.getElementById("email").value;
                if (!email) {
                    alert("Please enter a valid email.");
                    return;
                }
                let salt = Date.now();
                let encryptedEmail = btoa(email + salt);
                let magicLink = window.location.origin + "?auth=" + encryptedEmail;
                alert("Your magic link: " + magicLink);
            }

            function openApp(appName) {
                alert("Opening " + appName);
            }
        </script>
    </body>
</html>
